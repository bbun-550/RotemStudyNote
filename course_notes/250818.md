250818

## 과제 리뷰
#### 1번
- `set`으로 중복 제거 가능하다. 넣었다가 빼면 중복 제거할 수 있다.
- crosstab으로 만들면 결측치가 알아서 제거된다.

- 검정통계량이 커지면, p-value가 작아진다. == 귀무가설을 기각하고, 대립가설을 채택한다.(새로운 주장을 받아드린다는 뜻이다. 귀무가설, 기존 주장을 완전히 덮어씌운다는 뜻은 아니다.)
#### 2번 DB연결해서 가져온 데이터를 가설검정

---

## 이원카이제곱검정
- 동질성 검정 ; 분포가 동일한가? 다른 분포인가?를 검증하는 방법이다.
- 독립성검정 ; 두 변수 사이의 연관성을 검정하는데 비해, 동질성검정은 하위 모집단 사이특정 변수에 대한 분포의동질성을 검정한다.

>실습파일
>[[chi04_twoway.py]] : 동질성 검정 실습2(1교시)
> - 교육방법(방법1, 2,3)에 따른 교육생들의 만족도 분석. 
> - 동질성 검정은 분포가 동일한지 다른지를 검정하는 방법이다. 두 개 이상의 범주형 데이터가 동일한 분포를 갖는 모집단에서 추출되었는지 검정하는 방법이다.

> [추론통계 관련 연습문제1](https://cafe.daum.net/flowlife/SBU0/23?svc=toprank)문제3 카이제곱 검정 + 웹
> [[django4_coffee]] : 장고 파일에 카이제곱 검정 분석 결과 출력

* 장고 ORM 쓸 예정 (html으로 table에 데이터 넣을 예정)
 특징 : 원본 데이터를 손대지 않겠다. 장고의 소스는 그대로이고, 엔진(DATABASES)만 바꿔주면 된다.
- models.py에 클래스 만들어줘야 ORM을 사용할 수 있다.

`python manage.py inspectdb > aa.py` : db 설정한 내용을 근거로 aa.py파일을 만들어준다.
- models.py 에 입력할 내용 만들어준다. 입력 후 `makemigrations` 입력한다.
- ![[migrations\_file.png]]

#### 작업순서
1. settings.py
2. models.py
3. main > urls.py
4. myapp > urls.py
5. views.py
6. templates > .html
7. views.py
	1. surveyMain
	2. surveyView : 설문지창
	3. surveyProcess : 결과 출력(crosstab, 해석, barchart, dataframe)
		1. insertDataFunc : 라디오 버튼으로 입력받은 데이터를 데이터베이스에 입력하는 함수
		- 데이터베이스에 저장한 데이터를 `Survey.objects.all().values()`로 불러온다. 불러온 데이터는 타입이 안맞기 때문에 list()에 담아서 type을 바꿔준다. `list(Survey.objects.all().values())`
		2. analysisFunc : 데이터분석 함수
		- db에 데이터를 받아서 dataframe으로 만든다.
		- 데이터 전처리해준다. dropna, 범주형 데이터를 더미 데이터로 만든다(eg. 남/여 :right-arrow 1 , 0 )
		- 교차표 만들기 `pd.crosstab()`
		- 본격 카이제곱 검정 `.chi2_contingency()`
		- crossTb1, results, df 값 반환^[함수는 하나의 값만 리턴할 수 있다. 여러 값이 되는 것은 튜플로 묶였기 때문이다.] 


#### t-분포 < 통계기초.pdf
- $s_{1], s_{2} = 표준편차$, $n_{1}, n_{2} = 표본의 크기$
- t값은 평균 차이 나누기 표준 오차이다.
	- 분자는 평균 차이, 분모는 표준 오차
- 평균차이가 작아지면 t값은 작아진다. t값이 클수록 평균차이가 표준오차에 비해 클수록 우연일 가능성이 작아진다. t값이 커지면 p값 유의확률이 작아진다
$$t = \frac{\bar x_{1} - \bar x_{2}} {\frac{\sqrt{s_{1}}{n_{1}} + \frac{s_{2}}{n_{2}}}}$$

- 자유도 커지면 표준정규분포를 따른다. (자유도가 커진다는 의미는 표본의 크기가 커진다는 뜻이다)

- t-test 
	- 표본의 크기는 보통 30 이하이다. 

- 두 집단 이하의 변수에 대한 평균 차이를 검정할 경우 T-test를 사용하여 검정통계량 T값을 구해 가설검정을 한다.
- 세 집단 이상의 변수에 대한 평균 차이를 검정할 경우에는 ANOVA를 이용하여 검정통계량 F값을 구해 가설검정을 한다.

- 종류
	- 단일표본 t검정 : 과자 무게가 100g이니?
	- 대응표본 t검정 : 과자 먹기 전 체중과 먹은 후에 체중이 같니?
	- 독립표본 t검정 : a회사, b회사 과자 무게가 같니?

- 독립변수 : 범주형, 종속변수 : 연속형 일 때 t-test를 한다. 집단 세 개 이상일 때 ANOVA를 쓴다.

>실습파일
>[[t_test01.py]] : 집단 차이분석



















