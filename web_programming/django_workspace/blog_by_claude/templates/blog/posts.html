{# base.html í…œí”Œë¦¿ì„ ìƒì†ë°›ì•„ì„œ ê³µí†µ ë ˆì´ì•„ì›ƒ ì‚¬ìš© #}
{% extends 'base.html' %}

{# í˜ì´ì§€ ì œëª©ì„ "ê²Œì‹œê¸€ ëª©ë¡ - Django Blog"ë¡œ ì„¤ì • #}
{# ë¸Œë¼ìš°ì € íƒ­ì— í‘œì‹œë˜ëŠ” ì œëª© #}
{% block title %}ê²Œì‹œê¸€ ëª©ë¡ - Django Blog{% endblock %}

{# ë©”ì¸ ì»¨í…ì¸  ì˜ì—­ ì‹œì‘ #}
{% block content %}

<!-- í˜ì´ì§€ í—¤ë” ì˜ì—­: ì œëª©ê³¼ ìƒˆ ê¸€ ì‘ì„± ë²„íŠ¼ì„ ì¢Œìš° ë°°ì¹˜ -->
<!-- d-flex: Flexbox ë ˆì´ì•„ì›ƒ í™œì„±í™” -->
<!-- justify-content-between: ì¢Œìš° ì–‘ë ì •ë ¬ -->
<!-- align-items-center: ìˆ˜ì§ ì¤‘ì•™ ì •ë ¬ -->
<!-- mb-4: margin-bottom 4ë‹¨ê³„ (ì•„ë˜ìª½ ì—¬ë°±) -->
<div class="d-flex justify-content-between align-items-center mb-4">
    
    <!-- í˜ì´ì§€ ì œëª© -->
    <!-- ğŸ“„: ë¬¸ì„œ/í˜ì´ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì´ëª¨ì§€ -->
    <h2>ğŸ“„ ê²Œì‹œê¸€ ëª©ë¡</h2>
    
    <!-- ë¡œê·¸ì¸ëœ ì‚¬ìš©ìì—ê²Œë§Œ ìƒˆ ê¸€ ì‘ì„± ë²„íŠ¼ í‘œì‹œ -->
    <!-- user.is_authenticated: í˜„ì¬ ì‚¬ìš©ìì˜ ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸ -->
    {% if user.is_authenticated %}
        <!-- ìƒˆ ê¸€ ì‘ì„± ë²„íŠ¼ -->
        <!-- btn btn-primary: Bootstrap ê¸°ë³¸(íŒŒë€ìƒ‰) ë²„íŠ¼ ìŠ¤íƒ€ì¼ -->
        <!-- {% url 'post_create' %}: post_create URL íŒ¨í„´ìœ¼ë¡œ ì´ë™ -->
        <!-- âœï¸: ê¸€ì“°ê¸°ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì´ëª¨ì§€ -->
        <a href="{% url 'post_create' %}" class="btn btn-primary">âœï¸ ìƒˆ ê¸€ ì‘ì„±</a>
    {% endif %}
    
</div>

<!-- ê²Œì‹œê¸€ ì¡´ì¬ ì—¬ë¶€ì— ë”°ë¥¸ ì¡°ê±´ë¶€ ë Œë”ë§ -->
<!-- posts: views.pyì—ì„œ ì „ë‹¬í•œ ê²Œì‹œê¸€ QuerySet -->
<!-- postsê°€ ë¹„ì–´ìˆì§€ ì•Šìœ¼ë©´ (ê²Œì‹œê¸€ì´ í•˜ë‚˜ë¼ë„ ìˆìœ¼ë©´) ëª©ë¡ í‘œì‹œ -->
{% if posts %}
    
    <!-- Bootstrap ê·¸ë¦¬ë“œ ì‹œìŠ¤í…œ: ì¹´ë“œë“¤ì„ ê²©ìë¡œ ë°°ì¹˜ -->
    <!-- row: Bootstrap í–‰ ìƒì„± -->
    <div class="row">
        
        <!-- posts QuerySetì˜ ê° ê²Œì‹œê¸€ì„ ìˆœíšŒí•˜ë©° ì¹´ë“œë¡œ í‘œì‹œ -->
        <!-- for post in posts: Python for ë£¨í”„ì™€ ë™ì¼ -->
        {% for post in posts %}
            
            <!-- Bootstrap ì»¬ëŸ¼: ì¤‘ê°„ í¬ê¸° í™”ë©´ì—ì„œ 6ì¹¸ ì°¨ì§€ (ì „ì²´ 12ì¹¸ ì¤‘ ì ˆë°˜) -->
            <!-- ì¦‰, í•œ í–‰ì— 2ê°œì˜ ê²Œì‹œê¸€ ì¹´ë“œê°€ ë‚˜ë€íˆ í‘œì‹œë¨ -->
            <!-- mb-4: margin-bottom 4ë‹¨ê³„ (ì¹´ë“œ ê°„ ì•„ë˜ìª½ ì—¬ë°±) -->
            <div class="col-md-6 mb-4">
                
                <!-- Bootstrap ì¹´ë“œ ì»´í¬ë„ŒíŠ¸ -->
                <!-- h-100: height 100% (ê°™ì€ í–‰ì˜ ì¹´ë“œë“¤ì´ ë™ì¼í•œ ë†’ì´ë¥¼ ê°€ì§) -->
                <div class="card h-100">
                    
                    <!-- ì¹´ë“œ ë³¸ë¬¸: ê²Œì‹œê¸€ì˜ ì£¼ìš” ì •ë³´ -->
                    <div class="card-body">
                        
                        <!-- ê²Œì‹œê¸€ ì œëª© -->
                        <!-- h5: 5ë‹¨ê³„ ì œëª© (ì ë‹¹í•œ í¬ê¸°) -->
                        <!-- card-title: Bootstrap ì¹´ë“œ ì œëª© ìŠ¤íƒ€ì¼ -->
                        <h5 class="card-title">
                            
                            <!-- ì œëª©ì„ í´ë¦­í•˜ë©´ ê²Œì‹œê¸€ ìƒì„¸í˜ì´ì§€ë¡œ ì´ë™í•˜ëŠ” ë§í¬ -->
                            <!-- {% url 'post_detail' post.pk %}: ê²Œì‹œê¸€ ìƒì„¸ë³´ê¸° URL, pkëŠ” Primary Key -->
                            <!-- text-decoration-none: ë§í¬ì˜ ê¸°ë³¸ ë°‘ì¤„ ì œê±° -->
                            <!-- {{ post.title }}: Post ëª¨ë¸ì˜ title í•„ë“œ ì¶œë ¥ -->
                            <a href="{% url 'post_detail' post.pk %}" class="text-decoration-none">
                                {{ post.title }}
                            </a>
                            
                        </h5>
                        
                        <!-- ê²Œì‹œê¸€ ë‚´ìš© ë¯¸ë¦¬ë³´ê¸° -->
                        <!-- card-text: Bootstrap ì¹´ë“œ í…ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ -->
                        <p class="card-text">
                            
                            <!-- {{ post.content|truncatewords:20 }}: Django í…œí”Œë¦¿ í•„í„° -->
                            <!-- truncatewords: ì§€ì •ëœ ë‹¨ì–´ ìˆ˜ë¡œ í…ìŠ¤íŠ¸ ìë¥´ê¸° -->
                            <!-- 20: ì²˜ìŒ 20ê°œ ë‹¨ì–´ë§Œ í‘œì‹œí•˜ê³  ë‚˜ë¨¸ì§€ëŠ” "..."ìœ¼ë¡œ í‘œì‹œ -->
                            <!-- ëª©ë¡ì—ì„œëŠ” ì „ì²´ ë‚´ìš©ì´ ì•„ë‹Œ ë¯¸ë¦¬ë³´ê¸°ë§Œ í‘œì‹œí•˜ì—¬ UI ê¹”ë”í•˜ê²Œ ìœ ì§€ -->
                            {{ post.content|truncatewords:20 }}
                            
                        </p>
                        
                        <!-- ê²Œì‹œê¸€ ë©”íƒ€ ì •ë³´ (ì‘ì„±ì, ì‘ì„±ì¼) -->
                        <div class="card-text">
                            <!-- small: ì‘ì€ í¬ê¸° í…ìŠ¤íŠ¸ -->
                            <!-- text-muted: Bootstrap íë¦° íšŒìƒ‰ í…ìŠ¤íŠ¸ (ëœ ì¤‘ìš”í•œ ì •ë³´ì„ì„ í‘œí˜„) -->
                            <small class="text-muted">
                                
                                <!-- ì‘ì„±ì ì •ë³´ -->
                                <!-- ğŸ‘¤: ì‚¬ìš©ìë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì´ëª¨ì§€ -->
                                <!-- {{ post.author.username }}: ForeignKey ê´€ê³„ë¥¼ í†µí•´ User ëª¨ë¸ì˜ username ì ‘ê·¼ -->
                                ğŸ‘¤ {{ post.author.username }} | 
                                
                                <!-- ì‘ì„±ì¼ ì •ë³´ -->
                                <!-- ğŸ“…: ë‹¬ë ¥ì„ ë‚˜íƒ€ë‚´ëŠ” ì´ëª¨ì§€ -->
                                <!-- {{ post.created_at|date:"Yë…„ mì›” dì¼" }}: ë‚ ì§œ í¬ë§·íŒ… í•„í„° -->
                                <!-- "Yë…„ mì›” dì¼": 2024ë…„ 1ì›” 15ì¼ í˜•íƒœë¡œ í‘œì‹œ (ì‹œê°„ì€ ì œì™¸) -->
                                ğŸ“… {{ post.created_at|date:"Yë…„ mì›” dì¼" }}
                                
                            </small>
                        </div>
                    </div>
                    
                    <!-- ì¹´ë“œ í‘¸í„°: ì•¡ì…˜ ë²„íŠ¼ë“¤ -->
                    <div class="card-footer">
                        
                        <!-- ìì„¸íˆ ë³´ê¸° ë²„íŠ¼ (ëª¨ë“  ì‚¬ìš©ìì—ê²Œ í‘œì‹œ) -->
                        <!-- btn btn-outline-primary: Bootstrap ì•„ì›ƒë¼ì¸(í…Œë‘ë¦¬ë§Œ) ê¸°ë³¸ ë²„íŠ¼ -->
                        <!-- btn-sm: ì‘ì€ í¬ê¸° ë²„íŠ¼ -->
                        <a href="{% url 'post_detail' post.pk %}" class="btn btn-outline-primary btn-sm">
                            ìì„¸íˆ ë³´ê¸°
                        </a>
                        
                        <!-- ìˆ˜ì • ë²„íŠ¼ (ê²Œì‹œê¸€ ì‘ì„±ìì—ê²Œë§Œ í‘œì‹œ) -->
                        <!-- {% if user == post.author %}: í˜„ì¬ ë¡œê·¸ì¸í•œ ì‚¬ìš©ìê°€ ê²Œì‹œê¸€ ì‘ì„±ìì¸ì§€ í™•ì¸ -->
                        <!-- ê¶Œí•œ ê¸°ë°˜ UI ì œì–´ë¡œ ì‘ì„±ìë§Œ ìˆ˜ì • ê°€ëŠ¥ -->
                        {% if user == post.author %}
                            
                            <!-- ìˆ˜ì •í•˜ê¸° ë²„íŠ¼ -->
                            <!-- btn-outline-secondary: ì•„ì›ƒë¼ì¸ ë³´ì¡°(íšŒìƒ‰) ë²„íŠ¼ -->
                            <!-- {% url 'post_edit' post.pk %}: ê²Œì‹œê¸€ ìˆ˜ì • í˜ì´ì§€ë¡œ ì´ë™ -->